{"ast":null,"code":"/**\r\n * Header Component\r\n * Displays the main site logo, search bar, and cart/wishlist icons\r\n */import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import{useAuth}from'../../context/AuthContext';import Login from'../common/Login';import SignUp from'../common/SignUp';import'./Header.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const{isAuthenticated,user,isAdmin,login,logout,registerLoginModalHandler}=useAuth();const navigate=useNavigate();const[searchQuery,setSearchQuery]=useState('');const[selectedCategory,setSelectedCategory]=useState('All Categories');const[categories,setCategories]=useState([]);const[isLoginOpen,setIsLoginOpen]=useState(false);const[isSignUpOpen,setIsSignUpOpen]=useState(false);const[cartCount,setCartCount]=useState(0);const[cartTotal,setCartTotal]=useState(0);// Register login modal handler on mount\nuseEffect(()=>{registerLoginModalHandler(()=>setIsLoginOpen(true));},[registerLoginModalHandler]);// Fetch categories from backend\nuseEffect(()=>{const fetchCategories=async()=>{try{const response=await axios.get('http://127.0.0.1:8020/categories/');setCategories(response.data);}catch(error){console.error('Error fetching categories:',error);}};fetchCategories();},[]);// Fetch cart data from backend\nuseEffect(()=>{const fetchCart=async()=>{if(!isAuthenticated||!user){setCartCount(0);setCartTotal(0);return;}try{const response=await axios.get(\"http://127.0.0.1:8020/cart/\".concat(user.user_id));const cartData=response.data;if(cartData&&cartData.cart_items){// Calculate total count\nconst count=cartData.cart_items.reduce((sum,item)=>sum+item.quantity,0);setCartCount(count);setCartTotal(parseFloat(cartData.total_amount||0));}else{setCartCount(0);setCartTotal(0);}}catch(error){console.error('Error fetching cart:',error);setCartCount(0);setCartTotal(0);}};fetchCart();// Refresh cart every 5 seconds if user is authenticated\nconst interval=setInterval(()=>{if(isAuthenticated&&user){fetchCart();}},5000);return()=>clearInterval(interval);},[isAuthenticated,user]);const handleSearch=e=>{e.preventDefault();// Navigate to shop page with search query and category filter\nif(searchQuery.trim()){const params=new URLSearchParams();params.append('search',searchQuery);if(selectedCategory&&selectedCategory!=='All Categories'){params.append('category',selectedCategory);}navigate(\"/shop?\".concat(params.toString()));}else if(selectedCategory&&selectedCategory!=='All Categories'){// If no search query but category is selected, navigate to that category\nnavigate(\"/shop?category=\".concat(encodeURIComponent(selectedCategory)));}else{// If neither search nor category, just go to shop\nnavigate('/shop');}};const handleCategoryChange=e=>{const category=e.target.value;setSelectedCategory(category);};const handleWishlistClick=e=>{e.preventDefault();if(isAuthenticated){// User is logged in, navigate to wishlist\nconsole.log('Navigate to wishlist for user:',user.user_name);// TODO: Navigate to wishlist page\n}else{// User is not logged in, show login modal\nsetIsLoginOpen(true);}};const handleLoginSuccess=userData=>{login(userData);console.log('User logged in successfully:',userData.user_name);};const handleLogout=()=>{logout();console.log('User logged out');};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid px-5 py-4 d-none d-lg-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row gx-0 align-items-center text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-3 text-center text-lg-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-inline-flex align-items-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand p-0\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"display-5 text-primary m-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-shopping-bag text-secondary me-2\"}),\"BrightBuy\"]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-6 text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"position-relative ps-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"d-flex border rounded-pill\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control border-0 rounded-pill w-100 py-3\",type:\"text\",placeholder:\"Search Looking For?\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select text-dark border-0 border-start rounded-0 p-3\",style:{width:'200px'},value:selectedCategory,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"All Categories\",children:\"All Categories\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.category_name,children:category.category_name},category.category_id))]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-pill py-3 px-5\",style:{border:0},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-magnifying-glass\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-3 text-center text-lg-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleWishlistClick,className:\"login-oval me-3\",title:\"Login\",\"aria-label\":\"Login\",children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSignUpOpen(true),className:\"signup-oval me-3\",title:\"Sign up\",\"aria-label\":\"Sign up\",children:\"Sign-up\"}),/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"text-muted d-flex align-items-center justify-content-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"rounded-circle btn-md-square border position-relative d-flex align-items-center justify-content-center\",style:{width:'45px',height:'45px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-shopping-cart\"}),cartCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\",children:cartCount})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-dark ms-2\",children:[\"$\",cartTotal.toFixed(2)]})]})]})})]}),isAuthenticated&&/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid px-5 py-2 header-greeting\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 text-end\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"user-greeting\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome back, \",/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"text-decoration-none fw-bolder text-primary\",children:user.user_name}),\"!\",isAdmin&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" | \",/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"text-decoration-none text-danger fw-bold\",children:\"Admin Dashboard\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn btn-link btn-sm text-danger logout-link\",\"aria-label\":\"Logout\",children:\"Logout\"})]})})})})}),/*#__PURE__*/_jsx(Login,{isOpen:isLoginOpen,onClose:()=>setIsLoginOpen(false),onLoginSuccess:handleLoginSuccess,onSwitchToSignUp:()=>{setIsLoginOpen(false);setIsSignUpOpen(true);}}),/*#__PURE__*/_jsx(SignUp,{isOpen:isSignUpOpen,onClose:()=>setIsSignUpOpen(false),onSignUpSuccess:createdUser=>{// createdUser is the UserOut returned by backend\n// set as authenticated user in context\nlogin(createdUser);setIsSignUpOpen(false);},onSwitchToLogin:()=>{setIsSignUpOpen(false);setIsLoginOpen(true);}})]});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","axios","useAuth","Login","SignUp","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","isAuthenticated","user","isAdmin","login","logout","registerLoginModalHandler","navigate","searchQuery","setSearchQuery","selectedCategory","setSelectedCategory","categories","setCategories","isLoginOpen","setIsLoginOpen","isSignUpOpen","setIsSignUpOpen","cartCount","setCartCount","cartTotal","setCartTotal","fetchCategories","response","get","data","error","console","fetchCart","concat","user_id","cartData","cart_items","count","reduce","sum","item","quantity","parseFloat","total_amount","interval","setInterval","clearInterval","handleSearch","e","preventDefault","trim","params","URLSearchParams","append","toString","encodeURIComponent","handleCategoryChange","category","target","value","handleWishlistClick","log","user_name","handleLoginSuccess","userData","handleLogout","className","children","to","onSubmit","type","placeholder","onChange","style","width","map","category_name","category_id","border","onClick","title","height","toFixed","isOpen","onClose","onLoginSuccess","onSwitchToSignUp","onSignUpSuccess","createdUser","onSwitchToLogin"],"sources":["C:/Users/user/Documents/GitHub/BrightBuy-Frontend/frontend/src/components/layout/Header.jsx"],"sourcesContent":["/**\r\n * Header Component\r\n * Displays the main site logo, search bar, and cart/wishlist icons\r\n */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport Login from '../common/Login';\r\nimport SignUp from '../common/SignUp';\r\nimport './Header.css';\r\n\r\nconst Header = () => {\r\n  const { isAuthenticated, user, isAdmin, login, logout, registerLoginModalHandler } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('All Categories');\r\n  const [categories, setCategories] = useState([]);\r\n  const [isLoginOpen, setIsLoginOpen] = useState(false);\r\n  const [isSignUpOpen, setIsSignUpOpen] = useState(false);\r\n  const [cartCount, setCartCount] = useState(0);\r\n  const [cartTotal, setCartTotal] = useState(0);\r\n\r\n  // Register login modal handler on mount\r\n  useEffect(() => {\r\n    registerLoginModalHandler(() => setIsLoginOpen(true));\r\n  }, [registerLoginModalHandler]);\r\n\r\n  // Fetch categories from backend\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const response = await axios.get('http://127.0.0.1:8020/categories/');\r\n        setCategories(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching categories:', error);\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  // Fetch cart data from backend\r\n  useEffect(() => {\r\n    const fetchCart = async () => {\r\n      if (!isAuthenticated || !user) {\r\n        setCartCount(0);\r\n        setCartTotal(0);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get(`http://127.0.0.1:8020/cart/${user.user_id}`);\r\n        const cartData = response.data;\r\n        if (cartData && cartData.cart_items) {\r\n          // Calculate total count\r\n          const count = cartData.cart_items.reduce((sum, item) => sum + item.quantity, 0);\r\n          setCartCount(count);\r\n          setCartTotal(parseFloat(cartData.total_amount || 0));\r\n        } else {\r\n          setCartCount(0);\r\n          setCartTotal(0);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching cart:', error);\r\n        setCartCount(0);\r\n        setCartTotal(0);\r\n      }\r\n    };\r\n\r\n    fetchCart();\r\n    \r\n    // Refresh cart every 5 seconds if user is authenticated\r\n    const interval = setInterval(() => {\r\n      if (isAuthenticated && user) {\r\n        fetchCart();\r\n      }\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isAuthenticated, user]);\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    // Navigate to shop page with search query and category filter\r\n    if (searchQuery.trim()) {\r\n      const params = new URLSearchParams();\r\n      params.append('search', searchQuery);\r\n      if (selectedCategory && selectedCategory !== 'All Categories') {\r\n        params.append('category', selectedCategory);\r\n      }\r\n      navigate(`/shop?${params.toString()}`);\r\n    } else if (selectedCategory && selectedCategory !== 'All Categories') {\r\n      // If no search query but category is selected, navigate to that category\r\n      navigate(`/shop?category=${encodeURIComponent(selectedCategory)}`);\r\n    } else {\r\n      // If neither search nor category, just go to shop\r\n      navigate('/shop');\r\n    }\r\n  };\r\n\r\n  const handleCategoryChange = (e) => {\r\n    const category = e.target.value;\r\n    setSelectedCategory(category);\r\n  };\r\n\r\n  const handleWishlistClick = (e) => {\r\n    e.preventDefault();\r\n    if (isAuthenticated) {\r\n      // User is logged in, navigate to wishlist\r\n      console.log('Navigate to wishlist for user:', user.user_name);\r\n      // TODO: Navigate to wishlist page\r\n    } else {\r\n      // User is not logged in, show login modal\r\n      setIsLoginOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleLoginSuccess = (userData) => {\r\n    login(userData);\r\n    console.log('User logged in successfully:', userData.user_name);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    console.log('User logged out');\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid px-5 py-4 d-none d-lg-block\">\r\n      <div className=\"row gx-0 align-items-center text-center\">\r\n        {/* Logo Section */}\r\n        <div className=\"col-md-4 col-lg-3 text-center text-lg-start\">\r\n          <div className=\"d-inline-flex align-items-center\">\r\n            <Link to=\"/\" className=\"navbar-brand p-0\">\r\n              <h1 className=\"display-5 text-primary m-0\">\r\n                <i className=\"fa-solid fa-shopping-bag text-secondary me-2\"></i>\r\n                BrightBuy\r\n              </h1>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Search Bar Section */}\r\n        <div className=\"col-md-4 col-lg-6 text-center\">\r\n          <div className=\"position-relative ps-4\">\r\n            <form onSubmit={handleSearch} className=\"d-flex border rounded-pill\">\r\n              <input\r\n                className=\"form-control border-0 rounded-pill w-100 py-3\"\r\n                type=\"text\"\r\n                placeholder=\"Search Looking For?\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n              />\r\n              <select\r\n                className=\"form-select text-dark border-0 border-start rounded-0 p-3\"\r\n                style={{ width: '200px' }}\r\n                value={selectedCategory}\r\n                onChange={handleCategoryChange}\r\n              >\r\n                <option value=\"All Categories\">All Categories</option>\r\n                {categories.map((category) => (\r\n                  <option key={category.category_id} value={category.category_name}>\r\n                    {category.category_name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary rounded-pill py-3 px-5\"\r\n                style={{ border: 0 }}\r\n              >\r\n                <i className=\"fa-solid fa-magnifying-glass\"></i>\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Icons Section - Compare, Wishlist, Cart */}\r\n        <div className=\"col-md-4 col-lg-3 text-center text-lg-end\">\r\n          <div className=\"d-inline-flex align-items-center\">\r\n            {/* (removed unused compare button) */}\r\n\r\n            {/* Login Oval Button */}\r\n            <button\r\n              onClick={handleWishlistClick}\r\n              className=\"login-oval me-3\"\r\n              title=\"Login\"\r\n              aria-label=\"Login\"\r\n            >\r\n              Login\r\n            </button>\r\n\r\n            {/* Sign-up Oval Button */}\r\n            <button\r\n              onClick={() => setIsSignUpOpen(true)}\r\n              className=\"signup-oval me-3\"\r\n              title=\"Sign up\"\r\n              aria-label=\"Sign up\"\r\n            >\r\n              Sign-up\r\n            </button>\r\n\r\n            {/* Cart Icon */}\r\n            <Link\r\n              to=\"/cart\"\r\n              className=\"text-muted d-flex align-items-center justify-content-center\"\r\n            >\r\n              <span className=\"rounded-circle btn-md-square border position-relative d-flex align-items-center justify-content-center\" style={{ width: '45px', height: '45px' }}>\r\n                <i className=\"fa-solid fa-shopping-cart\"></i>\r\n                {cartCount > 0 && (\r\n                  <span className=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\">\r\n                    {cartCount}\r\n                  </span>\r\n                )}\r\n              </span>\r\n              <span className=\"text-dark ms-2\">${cartTotal.toFixed(2)}</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* User Greeting */}\r\n      {isAuthenticated && (\r\n        <div className=\"container-fluid px-5 py-2 header-greeting\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12 text-end\">\r\n              <small className=\"text-muted\">\r\n                <span className=\"user-greeting\">\r\n                  <span>\r\n                    Welcome back, <Link to=\"/profile\" className=\"text-decoration-none fw-bolder text-primary\">{user.user_name}</Link>!\r\n                    {isAdmin && (\r\n                      <> | <Link to=\"/admin\" className=\"text-decoration-none text-danger fw-bold\">Admin Dashboard</Link></>\r\n                    )}\r\n                  </span>\r\n                  <button \r\n                    onClick={handleLogout} \r\n                    className=\"btn btn-link btn-sm text-danger logout-link\"\r\n                    aria-label=\"Logout\"\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </span>\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Login Modal */}\r\n      <Login \r\n        isOpen={isLoginOpen}\r\n        onClose={() => setIsLoginOpen(false)}\r\n        onLoginSuccess={handleLoginSuccess}\r\n        onSwitchToSignUp={() => {\r\n          setIsLoginOpen(false);\r\n          setIsSignUpOpen(true);\r\n        }}\r\n      />\r\n\r\n      {/* SignUp Modal */}\r\n      <SignUp\r\n        isOpen={isSignUpOpen}\r\n        onClose={() => setIsSignUpOpen(false)}\r\n        onSignUpSuccess={(createdUser) => {\r\n          // createdUser is the UserOut returned by backend\r\n          // set as authenticated user in context\r\n          login(createdUser);\r\n          setIsSignUpOpen(false);\r\n        }}\r\n        onSwitchToLogin={() => {\r\n          setIsSignUpOpen(false);\r\n          setIsLoginOpen(true);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}