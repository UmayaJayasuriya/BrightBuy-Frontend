{"ast":null,"code":"import _objectSpread from\"C:/Users/user/Documents/GitHub/BrightBuy-Frontend/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * Single Product Page Component\r\n * Detailed product view with variants, images, description, and add to cart\r\n */import React,{useState,useEffect}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import axios from'axios';import{useCart}from'../context/CartContext';import{useAuth}from'../context/AuthContext';import ProductCard from'../components/common/ProductCard';import Spinner from'../components/common/Spinner';import'./Single.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Single=()=>{const{id}=useParams();const navigate=useNavigate();const{addToCart,addToWishlist}=useCart();const{isAuthenticated,user,openLoginModal,isAdmin}=useAuth();const[productData,setProductData]=useState(null);const[selectedVariant,setSelectedVariant]=useState(null);const[quantity,setQuantity]=useState(1);const[relatedProducts,setRelatedProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[addingToCart,setAddingToCart]=useState(false);const[deletingVariant,setDeletingVariant]=useState(false);// Fetch product with variants\nuseEffect(()=>{const fetchProduct=async()=>{setLoading(true);setError('');try{// Fetch product with variants\nconst response=await axios.get(\"http://127.0.0.1:8020/products/\".concat(id,\"/variants/\"));setProductData(response.data);// Set first variant as selected by default\nif(response.data.variants&&response.data.variants.length>0){setSelectedVariant(response.data.variants[0]);}// Fetch related products (from same category)\nif(response.data.category){const relatedResponse=await axios.get(\"http://127.0.0.1:8020/products/?category_name=\".concat(encodeURIComponent(response.data.category.category_name)));// Filter out current product and take first 4\nconst related=relatedResponse.data.filter(p=>p.product_id!==parseInt(id)).slice(0,4);setRelatedProducts(related);}}catch(err){console.error('Error fetching product:',err);setError('Failed to load product. Please try again.');}finally{setLoading(false);}};if(id){fetchProduct();}},[id]);const handleAddToCart=async()=>{// Check if user is logged in\nif(!isAuthenticated){// Open login modal instead of navigating away\nopenLoginModal();return;}if(!selectedVariant){alert('Please select a variant');return;}setAddingToCart(true);try{// Add to cart via backend API\nconst response=await axios.post(\"http://127.0.0.1:8020/cart/add?user_id=\".concat(user.user_id),{variant_id:selectedVariant.variant_id,quantity:quantity});console.log('Added to cart:',response.data);// Also update local cart context for immediate UI feedback\naddToCart(_objectSpread(_objectSpread(_objectSpread({},productData),selectedVariant),{},{name:\"\".concat(productData.product_name,\" - \").concat(selectedVariant.variant_name)}),quantity);alert(\"Added \".concat(quantity,\" \").concat(selectedVariant.variant_name,\" to cart!\"));}catch(err){var _err$response,_err$response$data;console.error('Error adding to cart:',err);alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||'Failed to add to cart. Please try again.');}finally{setAddingToCart(false);}};const handleQuantityChange=delta=>{const newQuantity=quantity+delta;if(newQuantity>=1&&newQuantity<=((selectedVariant===null||selectedVariant===void 0?void 0:selectedVariant.quantity)||1)){setQuantity(newQuantity);}};const handleVariantSelect=variant=>{setSelectedVariant(variant);setQuantity(1);// Reset quantity when changing variant\n};const handleDeleteVariant=async()=>{if(!selectedVariant){alert('Please select a variant to delete');return;}const confirmDelete=window.confirm(\"Are you sure you want to delete the variant \\\"\".concat(selectedVariant.variant_name,\"\\\"?\\n\\nThis action cannot be undone.\"));if(!confirmDelete){return;}setDeletingVariant(true);try{const token=localStorage.getItem('token');// Check if token exists\nif(!token){alert('You are not logged in. Please log in as an admin to delete variants.');navigate('/');return;}console.log('Deleting variant with token:',token.substring(0,20)+'...');await axios.delete(\"http://127.0.0.1:8020/admin/variants/\".concat(selectedVariant.variant_id),{headers:{Authorization:\"Bearer \".concat(token)}});alert(\"Variant \\\"\".concat(selectedVariant.variant_name,\"\\\" deleted successfully!\"));// Refresh the product data to show updated variants\nconst response=await axios.get(\"http://127.0.0.1:8020/products/\".concat(id,\"/variants/\"));setProductData(response.data);// Select first remaining variant or reload to show \"No variants available\"\nif(response.data.variants&&response.data.variants.length>0){setSelectedVariant(response.data.variants[0]);}else{setSelectedVariant(null);// Page will now show \"No variants available\" message with Go Back button\n}}catch(err){var _err$response2,_err$response2$data;console.error('Error deleting variant:',err);const errorMessage=((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.detail)||'Failed to delete variant. Please try again.';// Show a more user-friendly error message for order-related deletions\nif(errorMessage.includes('existing orders')||errorMessage.includes('part of existing orders')){alert(\"The variant \\\"\".concat(selectedVariant.variant_name,\"\\\" cannot be deleted because it is part of existing customer orders.\"));}else{alert(\"Error: \".concat(errorMessage));}}finally{setDeletingVariant(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Spinner,{})})});}if(error||!productData){return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:error||'Product not found'}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",className:\"btn btn-primary mt-3\",children:\"Back to Shop\"})]});}// Check if product has no variants\nif(!productData.variants||productData.variants.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"single-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid page-header py-5\",style:{backgroundImage:'url(/img/topbar.png)',backgroundSize:'cover',backgroundPosition:'center',backgroundRepeat:'no-repeat',position:'relative',minHeight:'260px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.45)',zIndex:1}}),/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center py-5\",style:{position:'relative',zIndex:2},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 text-white mb-3 fw-bolder\",children:productData.product_name}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb justify-content-center mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-white\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/shop\",className:\"text-white\",children:\"Shop\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active text-white\",children:productData.product_name})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm p-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-box-open fa-5x text-muted mb-3\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"No Variants Available\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-4\",children:[\"Unfortunately, there are currently no available variants for this product.\",isAdmin&&\" As an admin, you can add new variants to make this product available for purchase.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-3 justify-content-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"btn btn-secondary px-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left me-2\"}),\"Go Back\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/shop\",className:\"btn btn-primary px-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-bag me-2\"}),\"Continue Shopping\"]})]})]})})})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"single-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid page-header py-5\",style:{backgroundImage:'url(/img/topbar.png)',backgroundSize:'cover',backgroundPosition:'center',backgroundRepeat:'no-repeat',position:'relative',minHeight:'260px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.45)',zIndex:1}}),/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center py-5\",style:{position:'relative',zIndex:2},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 text-white mb-3 fw-bolder\",children:productData.product_name}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb justify-content-center mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-white\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/shop\",className:\"text-white\",children:\"Shop\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active text-white\",children:productData.product_name})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4 mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-images\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-image mb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:selectedVariant?\"/img/variants/\".concat(selectedVariant.variant_id,\".png\"):\"/img/products/\".concat(productData.product_id,\".png\"),className:\"img-fluid rounded\",alt:(selectedVariant===null||selectedVariant===void 0?void 0:selectedVariant.variant_name)||productData.product_name,style:{width:'100%',height:'350px',objectFit:'contain',backgroundColor:'#f8f9fa',padding:'20px'},onError:e=>{if(e.target.src.endsWith('.png')){e.target.src=selectedVariant?\"/img/variants/\".concat(selectedVariant.variant_id,\".jpg\"):\"/img/products/\".concat(productData.product_id,\".jpg\");}else{e.target.src='/img/product-1.png';}}})}),productData.variants&&productData.variants.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"variant-thumbnails d-flex gap-3 justify-content-center flex-wrap\",children:productData.variants.map(variant=>/*#__PURE__*/_jsxs(\"div\",{className:\"variant-thumbnail \".concat((selectedVariant===null||selectedVariant===void 0?void 0:selectedVariant.variant_id)===variant.variant_id?'border-primary border-3':'border'),style:{width:'150px',height:'150px',cursor:'pointer',borderRadius:'8px',overflow:'hidden',transition:'all 0.3s ease',position:'relative'},onClick:()=>handleVariantSelect(variant),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/img/variants/\".concat(variant.variant_id,\".png\"),className:\"img-fluid w-100 h-100\",alt:variant.variant_name,style:{objectFit:'contain',backgroundColor:'#f8f9fa',padding:'10px'},onError:e=>{if(e.target.src.endsWith('.png')){e.target.src=\"/img/variants/\".concat(variant.variant_id,\".jpg\");}else{e.target.src='/img/product-1.png';}}}),variant.quantity<1&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'5px',right:'5px',backgroundColor:'#dc3545',color:'white',padding:'4px 8px',borderRadius:'4px',fontSize:'12px',fontWeight:'bold',zIndex:10},children:\"Out of Stock\"})]},variant.variant_id))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:productData.product_name}),selectedVariant&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"text-primary\",children:selectedVariant.variant_name})}),selectedVariant&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center gap-3 mb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-primary fw-bold fs-2\",children:[\"$\",parseFloat(selectedVariant.price).toFixed(2)]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"SKU:\"}),\" \",selectedVariant.SKU]})]}),selectedVariant&&selectedVariant.attributes&&selectedVariant.attributes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Specifications:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table table-borderless\",children:/*#__PURE__*/_jsx(\"tbody\",{children:selectedVariant.attributes.map((attr,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"fw-bold\",style:{width:'40%'},children:[attr.attribute_name,\":\"]}),/*#__PURE__*/_jsx(\"td\",{children:attr.value})]},index))})})})]}),productData.description&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"p\",{children:productData.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[productData.category&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),' ',/*#__PURE__*/_jsx(\"span\",{className:\"text-capitalize\",children:productData.category.category_name})]}),selectedVariant&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Availability:\"}),' ',/*#__PURE__*/_jsx(\"span\",{className:selectedVariant.quantity>0?'text-success':'text-danger',children:selectedVariant.quantity>0?\"In Stock (\".concat(selectedVariant.quantity,\" available)\"):'Out of Stock'})]})]}),selectedVariant&&selectedVariant.quantity>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-selector mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Quantity:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center gap-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",style:{width:'150px'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",onClick:()=>handleQuantityChange(-1),disabled:quantity<=1,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control text-center\",value:quantity,min:\"1\",max:selectedVariant.quantity,onChange:e=>{const val=parseInt(e.target.value)||1;setQuantity(Math.min(Math.max(1,val),selectedVariant.quantity));}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",onClick:()=>handleQuantityChange(1),disabled:quantity>=selectedVariant.quantity,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-3 mb-4\",children:isAdmin?/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger btn-lg flex-grow-1\",onClick:handleDeleteVariant,disabled:!selectedVariant||deletingVariant,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash me-2\"}),deletingVariant?'Deleting...':'Delete Variant']}):/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary btn-lg flex-grow-1\",onClick:handleAddToCart,disabled:!selectedVariant||selectedVariant.quantity===0||addingToCart,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-cart me-2\"}),addingToCart?'Adding...':selectedVariant&&selectedVariant.quantity>0?'Add to Cart':'Out of Stock']})})]})})]}),relatedProducts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"related-products mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-4\",children:\"Related Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:relatedProducts.map(relatedProduct=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-3\",children:/*#__PURE__*/_jsx(ProductCard,{product:relatedProduct})},relatedProduct.product_id))})]})]})})]});};export default Single;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","axios","useCart","useAuth","ProductCard","Spinner","jsx","_jsx","jsxs","_jsxs","Single","id","navigate","addToCart","addToWishlist","isAuthenticated","user","openLoginModal","isAdmin","productData","setProductData","selectedVariant","setSelectedVariant","quantity","setQuantity","relatedProducts","setRelatedProducts","loading","setLoading","error","setError","addingToCart","setAddingToCart","deletingVariant","setDeletingVariant","fetchProduct","response","get","concat","data","variants","length","category","relatedResponse","encodeURIComponent","category_name","related","filter","p","product_id","parseInt","slice","err","console","handleAddToCart","alert","post","user_id","variant_id","log","_objectSpread","name","product_name","variant_name","_err$response","_err$response$data","detail","handleQuantityChange","delta","newQuantity","handleVariantSelect","variant","handleDeleteVariant","confirmDelete","window","confirm","token","localStorage","getItem","substring","delete","headers","Authorization","_err$response2","_err$response2$data","errorMessage","includes","className","children","to","style","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","position","minHeight","top","left","right","bottom","backgroundColor","zIndex","onClick","src","alt","width","height","objectFit","padding","onError","e","target","endsWith","map","cursor","borderRadius","overflow","transition","color","fontSize","fontWeight","parseFloat","price","toFixed","SKU","attributes","attr","index","attribute_name","value","description","disabled","type","min","max","onChange","val","Math","relatedProduct","product"],"sources":["C:/Users/user/Documents/GitHub/BrightBuy-Frontend/frontend/src/pages/Single.jsx"],"sourcesContent":["/**\r\n * Single Product Page Component\r\n * Detailed product view with variants, images, description, and add to cart\r\n */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useCart } from '../context/CartContext';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport ProductCard from '../components/common/ProductCard';\r\nimport Spinner from '../components/common/Spinner';\r\nimport './Single.css';\r\n\r\nconst Single = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { addToCart, addToWishlist } = useCart();\r\n  const { isAuthenticated, user, openLoginModal, isAdmin } = useAuth();\r\n  const [productData, setProductData] = useState(null);\r\n  const [selectedVariant, setSelectedVariant] = useState(null);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [relatedProducts, setRelatedProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [addingToCart, setAddingToCart] = useState(false);\r\n  const [deletingVariant, setDeletingVariant] = useState(false);\r\n\r\n  // Fetch product with variants\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        // Fetch product with variants\r\n        const response = await axios.get(`http://127.0.0.1:8020/products/${id}/variants/`);\r\n        setProductData(response.data);\r\n        \r\n        // Set first variant as selected by default\r\n        if (response.data.variants && response.data.variants.length > 0) {\r\n          setSelectedVariant(response.data.variants[0]);\r\n        }\r\n\r\n        // Fetch related products (from same category)\r\n        if (response.data.category) {\r\n          const relatedResponse = await axios.get(\r\n            `http://127.0.0.1:8020/products/?category_name=${encodeURIComponent(response.data.category.category_name)}`\r\n          );\r\n          // Filter out current product and take first 4\r\n          const related = relatedResponse.data.filter(p => p.product_id !== parseInt(id)).slice(0, 4);\r\n          setRelatedProducts(related);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching product:', err);\r\n        setError('Failed to load product. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (id) {\r\n      fetchProduct();\r\n    }\r\n  }, [id]);\r\n\r\n  const handleAddToCart = async () => {\r\n    // Check if user is logged in\r\n    if (!isAuthenticated) {\r\n      // Open login modal instead of navigating away\r\n      openLoginModal();\r\n      return;\r\n    }\r\n\r\n    if (!selectedVariant) {\r\n      alert('Please select a variant');\r\n      return;\r\n    }\r\n\r\n    setAddingToCart(true);\r\n    try {\r\n      // Add to cart via backend API\r\n      const response = await axios.post(\r\n        `http://127.0.0.1:8020/cart/add?user_id=${user.user_id}`,\r\n        {\r\n          variant_id: selectedVariant.variant_id,\r\n          quantity: quantity\r\n        }\r\n      );\r\n\r\n      console.log('Added to cart:', response.data);\r\n      \r\n      // Also update local cart context for immediate UI feedback\r\n      addToCart({\r\n        ...productData,\r\n        ...selectedVariant,\r\n        name: `${productData.product_name} - ${selectedVariant.variant_name}`\r\n      }, quantity);\r\n\r\n      alert(`Added ${quantity} ${selectedVariant.variant_name} to cart!`);\r\n      \r\n    } catch (err) {\r\n      console.error('Error adding to cart:', err);\r\n      alert(err.response?.data?.detail || 'Failed to add to cart. Please try again.');\r\n    } finally {\r\n      setAddingToCart(false);\r\n    }\r\n  };\r\n\r\n  const handleQuantityChange = (delta) => {\r\n    const newQuantity = quantity + delta;\r\n    if (newQuantity >= 1 && newQuantity <= (selectedVariant?.quantity || 1)) {\r\n      setQuantity(newQuantity);\r\n    }\r\n  };\r\n\r\n  const handleVariantSelect = (variant) => {\r\n    setSelectedVariant(variant);\r\n    setQuantity(1); // Reset quantity when changing variant\r\n  };\r\n\r\n  const handleDeleteVariant = async () => {\r\n    if (!selectedVariant) {\r\n      alert('Please select a variant to delete');\r\n      return;\r\n    }\r\n\r\n    const confirmDelete = window.confirm(\r\n      `Are you sure you want to delete the variant \"${selectedVariant.variant_name}\"?\\n\\nThis action cannot be undone.`\r\n    );\r\n\r\n    if (!confirmDelete) {\r\n      return;\r\n    }\r\n\r\n    setDeletingVariant(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      // Check if token exists\r\n      if (!token) {\r\n        alert('You are not logged in. Please log in as an admin to delete variants.');\r\n        navigate('/');\r\n        return;\r\n      }\r\n\r\n      console.log('Deleting variant with token:', token.substring(0, 20) + '...');\r\n      \r\n      await axios.delete(\r\n        `http://127.0.0.1:8020/admin/variants/${selectedVariant.variant_id}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        }\r\n      );\r\n\r\n      alert(`Variant \"${selectedVariant.variant_name}\" deleted successfully!`);\r\n      \r\n      // Refresh the product data to show updated variants\r\n      const response = await axios.get(`http://127.0.0.1:8020/products/${id}/variants/`);\r\n      setProductData(response.data);\r\n      \r\n      // Select first remaining variant or reload to show \"No variants available\"\r\n      if (response.data.variants && response.data.variants.length > 0) {\r\n        setSelectedVariant(response.data.variants[0]);\r\n      } else {\r\n        setSelectedVariant(null);\r\n        // Page will now show \"No variants available\" message with Go Back button\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('Error deleting variant:', err);\r\n      const errorMessage = err.response?.data?.detail || 'Failed to delete variant. Please try again.';\r\n      \r\n      // Show a more user-friendly error message for order-related deletions\r\n      if (errorMessage.includes('existing orders') || errorMessage.includes('part of existing orders')) {\r\n        alert(\r\n          `The variant \"${selectedVariant.variant_name}\" cannot be deleted because it is part of existing customer orders.`\r\n        );\r\n      } else {\r\n        alert(`Error: ${errorMessage}`);\r\n      }\r\n    } finally {\r\n      setDeletingVariant(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container py-5\">\r\n        <div className=\"text-center\">\r\n          <Spinner />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !productData) {\r\n    return (\r\n      <div className=\"container py-5 text-center\">\r\n        <h2>{error || 'Product not found'}</h2>\r\n        <Link to=\"/shop\" className=\"btn btn-primary mt-3\">\r\n          Back to Shop\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Check if product has no variants\r\n  if (!productData.variants || productData.variants.length === 0) {\r\n    return (\r\n      <div className=\"single-page\">\r\n        {/* Page Header */}\r\n        <div className=\"container-fluid page-header py-5\" style={{\r\n          backgroundImage: 'url(/img/topbar.png)',\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          backgroundRepeat: 'no-repeat',\r\n          position: 'relative',\r\n          minHeight: '260px'\r\n        }}>\r\n          <div style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(0, 0, 0, 0.45)',\r\n            zIndex: 1\r\n          }}></div>\r\n          <div className=\"container text-center py-5\" style={{ position: 'relative', zIndex: 2 }}>\r\n            <h1 className=\"display-4 text-white mb-3 fw-bolder\">{productData.product_name}</h1>\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb justify-content-center mb-0\">\r\n                <li className=\"breadcrumb-item\"><Link to=\"/\" className=\"text-white\">Home</Link></li>\r\n                <li className=\"breadcrumb-item\"><Link to=\"/shop\" className=\"text-white\">Shop</Link></li>\r\n                <li className=\"breadcrumb-item active text-white\">{productData.product_name}</li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* No Variants Available Message */}\r\n        <div className=\"container py-5\">\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-lg-8 text-center\">\r\n              <div className=\"card shadow-sm p-5\">\r\n                <div className=\"mb-4\">\r\n                  <i className=\"fas fa-box-open fa-5x text-muted mb-3\"></i>\r\n                </div>\r\n                <h2 className=\"mb-3\">No Variants Available</h2>\r\n                <p className=\"text-muted mb-4\">\r\n                  Unfortunately, there are currently no available variants for this product. \r\n                  {isAdmin && \" As an admin, you can add new variants to make this product available for purchase.\"}\r\n                </p>\r\n                <div className=\"d-flex gap-3 justify-content-center\">\r\n                  <button \r\n                    onClick={() => navigate(-1)} \r\n                    className=\"btn btn-secondary px-4\"\r\n                  >\r\n                    <i className=\"fas fa-arrow-left me-2\"></i>\r\n                    Go Back\r\n                  </button>\r\n                  <Link to=\"/shop\" className=\"btn btn-primary px-4\">\r\n                    <i className=\"fas fa-shopping-bag me-2\"></i>\r\n                    Continue Shopping\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"single-page\">\r\n      {/* Page Header */}\r\n      <div className=\"container-fluid page-header py-5\" style={{\r\n        backgroundImage: 'url(/img/topbar.png)',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        position: 'relative',\r\n        minHeight: '260px'\r\n      }}>\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.45)',\r\n          zIndex: 1\r\n        }}></div>\r\n        <div className=\"container text-center py-5\" style={{ position: 'relative', zIndex: 2 }}>\r\n          <h1 className=\"display-4 text-white mb-3 fw-bolder\">{productData.product_name}</h1>\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol className=\"breadcrumb justify-content-center mb-0\">\r\n              <li className=\"breadcrumb-item\"><Link to=\"/\" className=\"text-white\">Home</Link></li>\r\n              <li className=\"breadcrumb-item\"><Link to=\"/shop\" className=\"text-white\">Shop</Link></li>\r\n              <li className=\"breadcrumb-item active text-white\">{productData.product_name}</li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Product Details */}\r\n      <div className=\"container-fluid py-5\">\r\n        <div className=\"container py-5\">\r\n          <div className=\"row g-4 mb-5\">\r\n            {/* Product Image */}\r\n            <div className=\"col-lg-6\">\r\n              <div className=\"product-images\">\r\n                <div className=\"main-image mb-3\">\r\n                  <img\r\n                    src={selectedVariant ? `/img/variants/${selectedVariant.variant_id}.png` : `/img/products/${productData.product_id}.png`}\r\n                    className=\"img-fluid rounded\"\r\n                    alt={selectedVariant?.variant_name || productData.product_name}\r\n                    style={{ width: '100%', height: '350px', objectFit: 'contain', backgroundColor: '#f8f9fa', padding: '20px' }}\r\n                    onError={(e) => {\r\n                      if (e.target.src.endsWith('.png')) {\r\n                        e.target.src = selectedVariant ? `/img/variants/${selectedVariant.variant_id}.jpg` : `/img/products/${productData.product_id}.jpg`;\r\n                      } else {\r\n                        e.target.src = '/img/product-1.png';\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n                \r\n                {/* Variant Thumbnails */}\r\n                {productData.variants && productData.variants.length > 0 && (\r\n                  <div className=\"variant-thumbnails d-flex gap-3 justify-content-center flex-wrap\">\r\n                    {productData.variants.map((variant) => (\r\n                      <div\r\n                        key={variant.variant_id}\r\n                        className={`variant-thumbnail ${\r\n                          selectedVariant?.variant_id === variant.variant_id ? 'border-primary border-3' : 'border'\r\n                        }`}\r\n                        style={{\r\n                          width: '150px',\r\n                          height: '150px',\r\n                          cursor: 'pointer',\r\n                          borderRadius: '8px',\r\n                          overflow: 'hidden',\r\n                          transition: 'all 0.3s ease',\r\n                          position: 'relative'\r\n                        }}\r\n                        onClick={() => handleVariantSelect(variant)}\r\n                      >\r\n                        <img\r\n                          src={`/img/variants/${variant.variant_id}.png`}\r\n                          className=\"img-fluid w-100 h-100\"\r\n                          alt={variant.variant_name}\r\n                          style={{ objectFit: 'contain', backgroundColor: '#f8f9fa', padding: '10px' }}\r\n                          onError={(e) => {\r\n                            if (e.target.src.endsWith('.png')) {\r\n                              e.target.src = `/img/variants/${variant.variant_id}.jpg`;\r\n                            } else {\r\n                              e.target.src = '/img/product-1.png';\r\n                            }\r\n                          }}\r\n                        />\r\n                        {/* Out of Stock Badge */}\r\n                        {variant.quantity < 1 && (\r\n                          <div\r\n                            style={{\r\n                              position: 'absolute',\r\n                              top: '5px',\r\n                              right: '5px',\r\n                              backgroundColor: '#dc3545',\r\n                              color: 'white',\r\n                              padding: '4px 8px',\r\n                              borderRadius: '4px',\r\n                              fontSize: '12px',\r\n                              fontWeight: 'bold',\r\n                              zIndex: 10\r\n                            }}\r\n                          >\r\n                            Out of Stock\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Product Info */}\r\n            <div className=\"col-lg-6\">\r\n              <div className=\"product-details\">\r\n                <h2 className=\"mb-3\">{productData.product_name}</h2>\r\n                \r\n                {selectedVariant && (\r\n                  <div className=\"mb-3\">\r\n                    <h5 className=\"text-primary\">{selectedVariant.variant_name}</h5>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Price & SKU */}\r\n                {selectedVariant && (\r\n                  <div className=\"mb-4\">\r\n                    <div className=\"d-flex align-items-center gap-3 mb-2\">\r\n                      <span className=\"text-primary fw-bold fs-2\">\r\n                        ${parseFloat(selectedVariant.price).toFixed(2)}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-muted mb-0\">\r\n                      <strong>SKU:</strong> {selectedVariant.SKU}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Variant Attributes */}\r\n                {selectedVariant && selectedVariant.attributes && selectedVariant.attributes.length > 0 && (\r\n                  <div className=\"mb-4\">\r\n                    <h5>Specifications:</h5>\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-borderless\">\r\n                        <tbody>\r\n                          {selectedVariant.attributes.map((attr, index) => (\r\n                            <tr key={index}>\r\n                              <td className=\"fw-bold\" style={{ width: '40%' }}>{attr.attribute_name}:</td>\r\n                              <td>{attr.value}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Description */}\r\n                {productData.description && (\r\n                  <div className=\"mb-4\">\r\n                    <h5>Description:</h5>\r\n                    <p>{productData.description}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Category & Stock */}\r\n                <div className=\"mb-4\">\r\n                  {productData.category && (\r\n                    <p className=\"mb-2\">\r\n                      <strong>Category:</strong>{' '}\r\n                      <span className=\"text-capitalize\">{productData.category.category_name}</span>\r\n                    </p>\r\n                  )}\r\n                  {selectedVariant && (\r\n                    <p className=\"mb-0\">\r\n                      <strong>Availability:</strong>{' '}\r\n                      <span className={selectedVariant.quantity > 0 ? 'text-success' : 'text-danger'}>\r\n                        {selectedVariant.quantity > 0 ? `In Stock (${selectedVariant.quantity} available)` : 'Out of Stock'}\r\n                      </span>\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Quantity Selector */}\r\n                {selectedVariant && selectedVariant.quantity > 0 && (\r\n                  <div className=\"quantity-selector mb-4\">\r\n                    <label className=\"mb-2\"><strong>Quantity:</strong></label>\r\n                    <div className=\"d-flex align-items-center gap-3\">\r\n                      <div className=\"input-group\" style={{ width: '150px' }}>\r\n                        <button\r\n                          className=\"btn btn-outline-secondary\"\r\n                          onClick={() => handleQuantityChange(-1)}\r\n                          disabled={quantity <= 1}\r\n                        >\r\n                          <i className=\"fas fa-minus\"></i>\r\n                        </button>\r\n                        <input\r\n                          type=\"number\"\r\n                          className=\"form-control text-center\"\r\n                          value={quantity}\r\n                          min=\"1\"\r\n                          max={selectedVariant.quantity}\r\n                          onChange={(e) => {\r\n                            const val = parseInt(e.target.value) || 1;\r\n                            setQuantity(Math.min(Math.max(1, val), selectedVariant.quantity));\r\n                          }}\r\n                        />\r\n                        <button\r\n                          className=\"btn btn-outline-secondary\"\r\n                          onClick={() => handleQuantityChange(1)}\r\n                          disabled={quantity >= selectedVariant.quantity}\r\n                        >\r\n                          <i className=\"fas fa-plus\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Action Buttons */}\r\n                <div className=\"d-flex gap-3 mb-4\">\r\n                  {isAdmin ? (\r\n                    <button\r\n                      className=\"btn btn-danger btn-lg flex-grow-1\"\r\n                      onClick={handleDeleteVariant}\r\n                      disabled={!selectedVariant || deletingVariant}\r\n                    >\r\n                      <i className=\"fas fa-trash me-2\"></i>\r\n                      {deletingVariant ? 'Deleting...' : 'Delete Variant'}\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      className=\"btn btn-primary btn-lg flex-grow-1\"\r\n                      onClick={handleAddToCart}\r\n                      disabled={!selectedVariant || selectedVariant.quantity === 0 || addingToCart}\r\n                    >\r\n                      <i className=\"fas fa-shopping-cart me-2\"></i>\r\n                      {addingToCart ? 'Adding...' : \r\n                       selectedVariant && selectedVariant.quantity > 0 ? 'Add to Cart' : 'Out of Stock'}\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Related Products */}\r\n          {relatedProducts.length > 0 && (\r\n            <div className=\"related-products mt-5\">\r\n              <h3 className=\"mb-4\">Related Products</h3>\r\n              <div className=\"row g-4\">\r\n                {relatedProducts.map((relatedProduct) => (\r\n                  <div key={relatedProduct.product_id} className=\"col-md-6 col-lg-3\">\r\n                    <ProductCard product={relatedProduct} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Single;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}