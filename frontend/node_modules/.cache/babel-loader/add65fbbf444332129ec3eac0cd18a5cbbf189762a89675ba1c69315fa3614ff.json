{"ast":null,"code":"/**\r\n * Shop Page Component\r\n * Product listing page with filters and sorting\r\n */import React,{useState,useEffect}from'react';import{useSearchParams}from'react-router-dom';import axios from'axios';import ProductCard from'../components/common/ProductCard';import Spinner from'../components/common/Spinner';import'./Shop.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Shop=()=>{const[searchParams]=useSearchParams();const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[categories,setCategories]=useState([]);const[selectedCategory,setSelectedCategory]=useState('All Category');const[searchQuery,setSearchQuery]=useState('');const[sortBy,setSortBy]=useState('default');const[loading,setLoading]=useState(true);const[error,setError]=useState('');// Handle category and search from URL params FIRST - runs on mount and when URL changes\nuseEffect(()=>{const category=searchParams.get('category');const search=searchParams.get('search');console.log('📍 Category from URL:',category);console.log('🔍 Search from URL:',search);if(category){setSelectedCategory(category);}else{setSelectedCategory('All Category');}if(search){setSearchQuery(search);}else{setSearchQuery('');}},[searchParams]);// Fetch categories from backend\nuseEffect(()=>{const fetchCategories=async()=>{try{const response=await axios.get('https://brightbuy-backend-production-2ccc.up.railway.app/categories/');setCategories(response.data);}catch(err){console.error('Error fetching categories:',err);setError('Failed to load categories');}};fetchCategories();},[]);// Fetch products when component mounts or category changes\nuseEffect(()=>{const fetchProducts=async()=>{setLoading(true);setError('');try{let url='https://brightbuy-backend-production-2ccc.up.railway.app/products/';// Only filter by category if a specific category is selected (not \"All Category\")\nif(selectedCategory&&selectedCategory!=='All Category'){url+=\"?category_name=\".concat(encodeURIComponent(selectedCategory));}console.log('🔍 Fetching products from:',url,'| Selected category:',selectedCategory);const response=await axios.get(url);console.log('✅ Products received:',response.data.length,'products');setProducts(response.data);setFilteredProducts(response.data);}catch(err){console.error('Error fetching products:',err);setError('Failed to load products');setProducts([]);setFilteredProducts([]);}finally{setLoading(false);}};fetchProducts();},[selectedCategory]);// Apply filters and sorting to products\nuseEffect(()=>{let filtered=[...products];// Apply search filter\nif(searchQuery){filtered=filtered.filter(product=>{var _product$category,_product$category$cat;const query=searchQuery.toLowerCase();const productName=product.product_name.toLowerCase();const categoryName=((_product$category=product.category)===null||_product$category===void 0?void 0:(_product$category$cat=_product$category.category_name)===null||_product$category$cat===void 0?void 0:_product$category$cat.toLowerCase())||'';// Search in product name and category name only (not description)\nreturn productName.includes(query)||categoryName.includes(query);});}// Apply sorting\nif(sortBy==='name'){filtered.sort((a,b)=>a.product_name.localeCompare(b.product_name));}setFilteredProducts(filtered);},[products,searchQuery,sortBy]);return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid page-header py-5\",style:{// Use the site's topbar image per user request\nbackgroundImage:'url(/img/topbar.png)',backgroundSize:'cover',backgroundPosition:'center',backgroundRepeat:'no-repeat',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',zIndex:1}}),/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center py-5\",style:{position:'relative',zIndex:2},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 text-white mb-3\",style:{fontWeight:'700'},children:\"Shop\"}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb justify-content-center mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active text-white\",children:\"Shop\"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"shop-sidebar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-widget mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Categories\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-unstyled\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link text-decoration-none \".concat(selectedCategory==='All Category'?'text-primary fw-bold':'text-dark'),onClick:()=>setSelectedCategory('All Category'),children:\"All Category\"})}),categories.map(category=>/*#__PURE__*/_jsx(\"li\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link text-decoration-none \".concat(selectedCategory===category.category_name?'text-primary fw-bold':'text-dark'),onClick:()=>setSelectedCategory(category.category_name),children:category.category_name})},category.category_id))]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-9\",children:[searchQuery&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Search results for: \",/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\\"\",searchQuery,\"\\\"\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary\",onClick:()=>{setSearchQuery('');window.history.pushState({},'','/shop');},children:\"Clear Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"shop-toolbar d-flex justify-content-between align-items-center mb-4 p-3 bg-light rounded\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"Showing \",filteredProducts.length,\" products\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"me-2 mb-0\",children:\"Sort by:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:sortBy,onChange:e=>setSortBy(e.target.value),style:{width:'auto'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"default\",children:\"Default\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Name\"})]})]})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:/*#__PURE__*/_jsx(Spinner,{})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),!loading&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:filteredProducts.length>0?filteredProducts.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-xl-4\",children:/*#__PURE__*/_jsx(ProductCard,{product:product})},product.product_id)):/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info text-center\",children:\"No products found matching your criteria.\"})})})]})]})})})]});};export default Shop;","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","axios","ProductCard","Spinner","jsx","_jsx","jsxs","_jsxs","Shop","searchParams","products","setProducts","filteredProducts","setFilteredProducts","categories","setCategories","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","sortBy","setSortBy","loading","setLoading","error","setError","category","get","search","console","log","fetchCategories","response","data","err","fetchProducts","url","concat","encodeURIComponent","length","filtered","filter","product","_product$category","_product$category$cat","query","toLowerCase","productName","product_name","categoryName","category_name","includes","sort","a","b","localeCompare","className","children","style","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","position","top","left","right","bottom","backgroundColor","zIndex","fontWeight","href","onClick","map","category_id","window","history","pushState","value","onChange","e","target","width","product_id"],"sources":["C:/Users/user/Documents/GitHub/BrightBuy-Frontend/frontend/src/pages/Shop.jsx"],"sourcesContent":["/**\r\n * Shop Page Component\r\n * Product listing page with filters and sorting\r\n */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport ProductCard from '../components/common/ProductCard';\r\nimport Spinner from '../components/common/Spinner';\r\nimport './Shop.css';\r\n\r\nconst Shop = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const [products, setProducts] = useState([]);\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('All Category');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [sortBy, setSortBy] = useState('default');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  // Handle category and search from URL params FIRST - runs on mount and when URL changes\r\n  useEffect(() => {\r\n    const category = searchParams.get('category');\r\n    const search = searchParams.get('search');\r\n    console.log('📍 Category from URL:', category);\r\n    console.log('🔍 Search from URL:', search);\r\n    if (category) {\r\n      setSelectedCategory(category);\r\n    } else {\r\n      setSelectedCategory('All Category');\r\n    }\r\n    if (search) {\r\n      setSearchQuery(search);\r\n    } else {\r\n      setSearchQuery('');\r\n    }\r\n  }, [searchParams]);\r\n\r\n  // Fetch categories from backend\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n  const response = await axios.get('https://brightbuy-backend-production-2ccc.up.railway.app/categories/');\r\n        setCategories(response.data);\r\n      } catch (err) {\r\n        console.error('Error fetching categories:', err);\r\n        setError('Failed to load categories');\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  // Fetch products when component mounts or category changes\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n  let url = 'https://brightbuy-backend-production-2ccc.up.railway.app/products/';\r\n        \r\n        // Only filter by category if a specific category is selected (not \"All Category\")\r\n        if (selectedCategory && selectedCategory !== 'All Category') {\r\n          url += `?category_name=${encodeURIComponent(selectedCategory)}`;\r\n        }\r\n        \r\n        console.log('🔍 Fetching products from:', url, '| Selected category:', selectedCategory);\r\n        const response = await axios.get(url);\r\n        console.log('✅ Products received:', response.data.length, 'products');\r\n        setProducts(response.data);\r\n        setFilteredProducts(response.data);\r\n      } catch (err) {\r\n        console.error('Error fetching products:', err);\r\n        setError('Failed to load products');\r\n        setProducts([]);\r\n        setFilteredProducts([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchProducts();\r\n  }, [selectedCategory]);\r\n\r\n  // Apply filters and sorting to products\r\n  useEffect(() => {\r\n    let filtered = [...products];\r\n\r\n    // Apply search filter\r\n    if (searchQuery) {\r\n      filtered = filtered.filter(product => {\r\n        const query = searchQuery.toLowerCase();\r\n        const productName = product.product_name.toLowerCase();\r\n        const categoryName = product.category?.category_name?.toLowerCase() || '';\r\n        \r\n        // Search in product name and category name only (not description)\r\n        return productName.includes(query) || categoryName.includes(query);\r\n      });\r\n    }\r\n\r\n    // Apply sorting\r\n    if (sortBy === 'name') {\r\n      filtered.sort((a, b) => a.product_name.localeCompare(b.product_name));\r\n    }\r\n\r\n    setFilteredProducts(filtered);\r\n  }, [products, searchQuery, sortBy]);\r\n\r\n  return (\r\n    <div className=\"shop-page\">\r\n      {/* Page Header */}\r\n      <div className=\"container-fluid page-header py-5\" style={{\r\n        // Use the site's topbar image per user request\r\n        backgroundImage: 'url(/img/topbar.png)',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        position: 'relative'\r\n      }}>\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          zIndex: 1\r\n        }}></div>\r\n        <div className=\"container text-center py-5\" style={{ position: 'relative', zIndex: 2 }}>\r\n          <h1 className=\"display-4 text-white mb-3\" style={{ fontWeight: '700' }}>Shop</h1>\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol className=\"breadcrumb justify-content-center mb-0\">\r\n              <li className=\"breadcrumb-item\"><a href=\"/\">Home</a></li>\r\n              <li className=\"breadcrumb-item active text-white\">Shop</li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Shop Content */}\r\n      <div className=\"container-fluid py-5\">\r\n        <div className=\"container py-5\">\r\n          <div className=\"row g-4\">\r\n            {/* Sidebar Filters */}\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"shop-sidebar\">\r\n                {/* Categories */}\r\n                <div className=\"sidebar-widget mb-4\">\r\n                  <h4 className=\"mb-3\">Categories</h4>\r\n                  <ul className=\"list-unstyled\">\r\n                    <li className=\"mb-2\">\r\n                      <button\r\n                        className={`btn btn-link text-decoration-none ${\r\n                          selectedCategory === 'All Category' ? 'text-primary fw-bold' : 'text-dark'\r\n                        }`}\r\n                        onClick={() => setSelectedCategory('All Category')}\r\n                      >\r\n                        All Category\r\n                      </button>\r\n                    </li>\r\n                    {categories.map((category) => (\r\n                      <li key={category.category_id} className=\"mb-2\">\r\n                        <button\r\n                          className={`btn btn-link text-decoration-none ${\r\n                            selectedCategory === category.category_name ? 'text-primary fw-bold' : 'text-dark'\r\n                          }`}\r\n                          onClick={() => setSelectedCategory(category.category_name)}\r\n                        >\r\n                          {category.category_name}\r\n                        </button>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Products Grid */}\r\n            <div className=\"col-lg-9\">\r\n              {/* Search Query Display */}\r\n              {searchQuery && (\r\n                <div className=\"alert alert-info d-flex justify-content-between align-items-center mb-3\">\r\n                  <span>\r\n                    Search results for: <strong>\"{searchQuery}\"</strong>\r\n                  </span>\r\n                  <button \r\n                    className=\"btn btn-sm btn-outline-secondary\"\r\n                    onClick={() => {\r\n                      setSearchQuery('');\r\n                      window.history.pushState({}, '', '/shop');\r\n                    }}\r\n                  >\r\n                    Clear Search\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Toolbar */}\r\n              <div className=\"shop-toolbar d-flex justify-content-between align-items-center mb-4 p-3 bg-light rounded\">\r\n                <div>\r\n                  <span className=\"text-muted\">\r\n                    Showing {filteredProducts.length} products\r\n                  </span>\r\n                </div>\r\n                <div className=\"d-flex align-items-center\">\r\n                  <label className=\"me-2 mb-0\">Sort by:</label>\r\n                  <select\r\n                    className=\"form-select\"\r\n                    value={sortBy}\r\n                    onChange={(e) => setSortBy(e.target.value)}\r\n                    style={{ width: 'auto' }}\r\n                  >\r\n                    <option value=\"default\">Default</option>\r\n                    <option value=\"name\">Name</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Loading State */}\r\n              {loading && (\r\n                <div className=\"text-center py-5\">\r\n                  <Spinner />\r\n                </div>\r\n              )}\r\n\r\n              {/* Error State */}\r\n              {error && (\r\n                <div className=\"alert alert-danger\">\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {/* Products Grid */}\r\n              {!loading && !error && (\r\n                <div className=\"row g-4\">\r\n                  {filteredProducts.length > 0 ? (\r\n                    filteredProducts.map((product) => (\r\n                      <div key={product.product_id} className=\"col-md-6 col-xl-4\">\r\n                        <ProductCard product={product} />\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <div className=\"col-12\">\r\n                      <div className=\"alert alert-info text-center\">\r\n                        No products found matching your criteria.\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}